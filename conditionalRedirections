La question ne d√©cide rien
Un moteur de r√®gles lit le JSON et d√©cide de la prochaine √©tape
********Donc :
           Le JSON d√©crit QUAND et O√ô rediriger
           Le moteur JS ex√©cute les r√®gles de fa√ßon g√©n√©rique

*Chaque question peut avoir une liste de r√®gles, √©valu√©es dans l‚Äôordre
"navigation": {
  "rules": [],
  "default": "NEXT"
}
*Structure d‚Äôune r√®gle
{
  "if": {
    "operator": "",
    "value": "",
    "values": []
  },
  "then": {
    "goTo": ""
  }
}
*Op√©rateurs
| Op√©rateur    | Usage          |
| ------------ | -------------- |
| `EQUALS`     | value === X    |
| `NOT_EQUALS` | value !== X    |
| `IN`         | value ‚àà []     |
| `NOT_IN`     | value ‚àâ []     |
| `LT`         | <              |
| `LTE`        | ‚â§              |
| `GT`         | >              |
| `GTE`        | ‚â•              |
| `BETWEEN`    | entre          |
| `FILLED`     | champ non vide |
| `EMPTY`      | champ vide     |
{
  "if": {
    "type": "GRID",
    "axis": "row",
    "operator": "ANY_EQUALS",
    "value": "R1"
  },
  "then": { "goTo": "q13" }
}

{
  "if": {
    "type": "GRID",
    "axis": "column",
    "column": "R2",
    "operator": "COUNT_GTE",
    "value": 1
  },
  "then": { "goTo": "q15" }
}
1Ô∏è‚É£ R√àGLES M√âTIER (ce que tu veux exprimer)
üîπ Q14 (axis = row ‚Äì Oui / Non) ANY_EQUALS

Si au moins une activit√© = "oui" (R1) ‚Üí aller √† q13

Sinon ‚Üí aller directement √† q15 ‚û°Ô∏è NEXT = q15 (si aucune activit√© = oui)

üîπ Q13 (axis = column) "COUNT_GTE",

Si Motivation principale (R2) s√©lectionn√©e pour au moins une activit√© ‚Üí aller √† q15

Sinon ‚Üí aller √† q2

üîπ Q15 (axis = row ‚Äì checkbox)ANY_EQUALS

Si "never" (R2) coch√©e au moins une fois ‚Üí aller √† q2

Sinon ‚Üí navigation normale
*exemples
1.Question √¢ge:
  R√®gles ( √¢ge < 18 ‚Üí q3 , 19 √† 30 ‚Üí q6 , ‚â• 31 ‚Üí FIN )
  {
  "id": "q_age",
  "type": "number",
  "label": "Quel est votre √¢ge ?",

  "navigation": {
    "rules": [
      {
        "if": { "operator": "LT", "value": 18 },
        "then": { "goTo": "q3" }
      },
      {
        "if": { "operator": "BETWEEN", "values": [19, 30] },
        "then": { "goTo": "q6" }
      },
      {
        "if": { "operator": "GTE", "value": 31 },
        "then": { "goTo": "END" }
      }
    ],
    "default": "NEXT"
  }
}

2. Spinner (choix sp√©cifique ‚Üí redirection)
{
  "id": "q_spinner",
  "type": "spinner",
  "label": "Choisissez une option",

  "navigation": {
    "rules": [
      {
        "if": { "operator": "IN", "values": [3, 5] },
        "then": { "goTo": "q2" }
      }
    ],
    "default": "NEXT"
  }
}
 3. Autocomplete (communes):
  R√®gles ( Commune1 OU Commune2 ‚Üí q3, Sinon ‚Üí q5)
  {
  "id": "q_commune",
  "type": "autocomplete",
  "label": "S√©lectionnez votre commune",

  "navigation": {
    "rules": [
      {
        "if": { "operator": "IN", "values": ["COMMUNE1", "COMMUNE2"] },
        "then": { "goTo": "q3" }
      }
    ],
    "default": "q5"
  }
}
--------------------------------accordion-----------------------------------
Une section = un groupe logique
section {
  id,
  title,
  required,
  questions[]
}
required: true ‚Üí au moins une question valide
required: false ‚Üí section optionnelle

structure de reponse 
{
  "questionId": "q30",
  "type": "accordion",
  "sections": [
    {
      "sectionId": "acc_bus",
      "answers": [
        {
          "questionId": "q30_1",
          "type": "single_choice",
          "value": {
            "codeItem": 1,
            "label": "Oui"
          },
          "subAnswers": [
            {
              "questionId": "q30_1a",
              "type": "spinner",
              "value": "Tous les jours"
            }
          ]
        }
      ]
    },
    {
      "sectionId": "acc_train",
      "answers": [
        {
          "questionId": "q30_2",
          "type": "text",
          "value": "Rapide et √©conomique"
        }
      ]
    }
  ]
}
ou

{
  "questionId": "qAccordion1",
  "type": "accordion",
  "sections": [
    {
      "sectionId": "section_bus",
      "answers": [
        {
          "questionId": "q10_1",
          "type": "single_choice",
          "value": { "codeItem": 1, "label": "Oui" }
        },
        {
          "questionId": "q10_2",
          "type": "text",
          "value": "Ligne 12"
        }
      ]
    },
    {
      "sectionId": "section_train",
      "answers": [
        {
          "questionId": "q10_3",
          "type": "spinner",
          "value": "Hebdomadaire"
        }
      ]
    }
  ]
}

Accordion
 ‚îú‚îÄ Section
 ‚îÇ   ‚îú‚îÄ Question
 ‚îÇ   ‚îú‚îÄ Question
 ‚îú‚îÄ Section
     ‚îú‚îÄ Question


     

<h2>{{step.title}}</h2>
<p>{{step.label}}</p>

<form method="POST" action="/api/responses/{{survey.id}}/{{step.id}}">
  <input type="hidden" name="responseId" value="{{responseId}}">

  <div class="matrix">
    <table class="matrix-table">
      <thead>
        <tr>
          <th></th>
          {{#step.columns}}
            <th>{{label}}</th>
          {{/step.columns}}
        </tr>
      </thead>

      <tbody>
        {{#step.rows}}
          <tr>
            <th scope="row">{{label}}</th>

            {{#columns}}
              <td>
                <input
                  type="{{#../rules.onePerRow}}radio{{/../rules.onePerRow}}{{^../rules.onePerRow}}checkbox{{/../rules.onePerRow}}"
                  name="value[{{../id}}]{{#../rules.onePerRow}}{{/../rules.onePerRow}}"
                  value="{{value}}"
                >
              </td>
            {{/columns}}

          </tr>
        {{/step.rows}}
      </tbody>
    </table>
  </div>

  <button type="submit">Suivant</button>
</form>


rotationTemplate = s√©quence de sous-questions √† parcourir pour chaque option choisie.
page: 0 ‚Üí sera g√©n√©r√© dynamiquement par le backend.
TRANSPORT dans les labels sera remplac√© par le label r√©el de l‚Äôoption choisie.


single_choice
 ‚îî‚îÄ‚îÄ option
      ‚îú‚îÄ‚îÄ precision
      ‚îî‚îÄ‚îÄ subQuestions
           ‚îú‚îÄ‚îÄ text
           ‚îú‚îÄ‚îÄ spinner
           ‚îî‚îÄ‚îÄ single_choice (possible)
