
{{#options}}
  <label>
    <input type="radio" name="{{id}}" value="{{codeItem}}" 
           data-requires-precision="{{requiresPrecision}}"
           {{#isSelected}}checked{{/isSelected}}>
    {{label}}
  </label><br>
  <input type="text" 
  name="precision_{{codeItem}}"
   class="precision-input" 
   style="{{^showPrecision}}display:none;{{/showPrecision}}"
   value="{{precisionValue}}"
   placeholder="PrÃ©cisez..." />
{{/options}}


<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('input[type=radio][name={{id}}]').forEach(radio => {
    radio.addEventListener('change', function() {
      document.querySelectorAll('.precision-input').forEach(i => i.style.display='none');
      if(this.dataset.requiresPrecision === 'true'){
        const precisionInput = document.querySelector(`input[name=precision_${this.value}]`);
        if (precisionInput) precisionInput.style.display='inline-block';
      }
    });
  });
});
</script>

